## 변경 내역
- `mgk-dashboard/components/ManualEntry.tsx`에서 Firestore 연동을 추가하여 달러 충전 및 매수 기록을 실제 컬렉션(`dollarCharges`, `manualPurchases`)에 저장하도록 수정
- 제출 중 로딩 상태 및 에러 메시지를 개선하고, 입력값 요약(원화 환산, 수수료 차감 금액, 평가 금액)을 추가하여 UX 강화
- 숫자 파싱 및 검증 로직을 보완해 잘못된 값 입력 시 명확한 피드백을 제공

## 참고 사항
- Firebase 환경 변수가 설정되지 않은 경우 저장 시 안내 메시지로 사용자에게 설정 필요성을 전달
- 저장 성공 시 폼이 초기화되며 `Alert` 영역에 성공 메시지 표시
- `mgk-dashboard/types/index.ts`에 AI 어드바이저 컨텍스트와 응답 타입을 정의하여 서비스 계층에서 재사용 가능하도록 확장
- `mgk-dashboard/lib/utils.ts`에 `sleep`, `buildPeriodRange` 유틸리티를 추가해 기간 계산 및 재시도 동작에 활용할 수 있도록 준비
- `mgk-dashboard/lib/firestore.ts`에 트랜잭션 헬퍼를 비롯한 공용 유틸을 확장하고, AI 인사이트 저장용 컬렉션 접근을 고려한 구조를 마련
- `mgk-dashboard/lib/services/ai-advisor.ts`를 신규 작성해 컨텍스트 수집 → GPT-oss 호출 → Firestore 저장까지 일련의 흐름을 서비스 메서드로 구성
- `mgk-dashboard/app/api/ai-advisor/route.ts`를 추가해 POST 호출 시 AI 어드바이저를 실행하고 결과를 반환/저장하는 API 엔드포인트를 구현
- `mgk-dashboard/components/AIAdvisorCard.tsx`를 추가해 AI 인사이트 카드 UI와 새로고침 동작을 구현
- `mgk-dashboard/app/page.tsx`에서 AI 카드 동적 로딩 및 기존 인포 카드 대체, UX 메시지 추가
- `mgk-dashboard/lib/services/ai-advisor.ts` 서비스 계층 준비: 컨텍스트 수집/모델 호출/저장 전담
- `/mgk-dashboard/app/api/ai-advisor/route.ts`로 AI 어드바이저 실행 API 완성
- `mgk-dashboard/types/index.ts`, `lib/utils.ts`, `lib/firestore.ts` 등 타입·유틸 확장으로 AI 흐름을 지원
- `mgk-dashboard/README.md`에 GPT-oss 환경 변수 및 실행 가이드 추가, `npm run advisor:test` 스크립트 등록
- `mgk-dashboard/components/AIAdvisorCard.tsx`에 초기 히스토리 로딩과 히스토리 패널 UI를 추가, `/api/ai-advisor/history` API와 연동
- `mgk-dashboard/app/api/ai-advisor/history/route.ts`를 구현해 최근 AI 인사이트 리스트를 반환하도록 구성
- 대시보드(`app/page.tsx`)에서 AI 카드 로딩 순서를 조정
- `mgk-dashboard/types/index.ts`에 `WeeklyReportWithAI` 타입을 추가해 리포트와 AI 인사이트를 함께 표현하도록 확장
- `mgk-dashboard/lib/services/ai-advisor.ts`에 리포트-인사이트 연동 헬퍼와 단일 조회 유틸을 추가
- `/app/weekly-reports/page.tsx`를 구현하여 주간 리포트 타임라인과 AI 인사이트 상세를 UI로 제공
- `/app/api/weekly-reports/route.ts`에서 리포트와 최신 AI 인사이트를 조합해 반환하도록 API 구성
- 메인 대시보드에서 주간 리포트 페이지 진입 링크 추가 및 README 구조도 업데이트
- `mgk-dashboard/types/index.ts`에 워치리스트 타입 정의 추가 (`WatchlistItem`, 설정 폼 확장)
- `mgk-dashboard/lib/services/portfolio.ts`를 생성해 관찰 종목 CRUD 헬퍼 구현
- `/app/api/watchlist/route.ts`에서 관심 종목 목록 조회/추가/수정/삭제 API 완성
- `mgk-dashboard/components/WatchlistManager.tsx`로 UI 폼/리스트/편집/삭제 인터랙션 구성하고 대시보드에 배치
- Firebase Functions `collectPriceJob`/`collectNewsJob`을 구현해 AlphaVantage, ExchangeRate, Google News 데이터를 정기 수집하도록 구성
- functions/src를 jobs/collectPrice.ts, jobs/collectNews.ts 등 모듈 구조로 정리하고 공용 Firebase 초기화 유틸 추가
- functions/package.json에 node-fetch, rss-parser 등 의존성 추가 및 scheduler 트리거 설정
- Cloud Functions에 `jobs/collectPrice` / `jobs/collectNews` 스케줄러를 추가해 Alpha Vantage, ExchangeRate, Google News 데이터를 Firestore에 적재하도록 구현
- functions/src/index.ts에서 scheduler export 및 헬스 체크 엔드포인트 정리, Firebase admin 초기화 유틸 추가
- `mgk-dashboard/lib/firestore.ts`에 날짜 기반 조회 헬퍼를 확장하여 AI 파이프라인 준비
- `/app/api/generate-report` 라우트를 추가해 최근 7일 요약 → AI 어드바이저 호출 → 주간 리포트 저장까지 자동 파이프라인 구축
- `lib/services/weeklyReports.ts`와 `types`를 확장해 요약 계산, 리포트 저장 헬퍼 및 메타 데이터 구조 정의
- Firebase Functions에 `jobs/generateWeeklyReport`를 추가해 매주 AI 인사이트와 리포트를 자동 생성하도록 스케줄링 (일요일 21시 KST)
- 공용 fetch 유틸, Firebase admin 유틸 등을 분리해 배치 작업 간 재사용 가능하도록 정리
- `/app/api/generate-report` API를 추가해 최근 7일 요약 → AI 어드바이저 호출 → Firestore 저장 흐름 구축
- `lib/services/weeklyReports.ts`와 `types/index.ts`에 주간 요약/리포트 타입과 헬퍼 추가
- Cloud Functions에 `jobs/generateWeeklyReport`를 등록해 매주 자동으로 리포트와 AI 인사이트를 생성하도록 스케줄링
- README에 배포/테스트 절차를 정리하고 E2E 검증 가이드를 추가
- `docs/E2E_CHECKLIST.md` 작성으로 환경 변수, Function 배포, 데이터 검증까지 일괄 점검할 수 있는 절차 제공
- README의 배포/테스트 섹션을 확장해 실환경 세팅 → Functions 배포 → 스케줄러 검증 흐름을 명시
