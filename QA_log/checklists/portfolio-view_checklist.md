# ✅ 포트폴리오 조회 기능 QA 체크리스트

## 📋 기본 정보
- **작성자**: [이름]
- **작성일**: [YYYY-MM-DD]
- **기능**: 포트폴리오 조회 및 대시보드
- **테스트 환경**: [ ] 로컬 / [ ] 스테이징 / [ ] 프로덕션
- **관련 이슈**: #[번호]

---

## 🎯 기능 요구사항 확인

### 대시보드 개요
- [ ] 총 자산 금액 표시 (실시간)
- [ ] 전체 수익/손실 금액 표시
- [ ] 전체 수익률 퍼센티지 표시
- [ ] 일간 변동 금액 및 퍼센티지 표시
- [ ] 충전 잔액 표시 (사용 가능 금액)

### 종목 목록
- [ ] 보유 종목 전체 목록 표시
- [ ] 각 종목별 정보 표시:
  - [ ] 종목명 (티커)
  - [ ] 보유 수량
  - [ ] 평균 매수가
  - [ ] 현재가
  - [ ] 평가 금액
  - [ ] 수익/손실 금액
  - [ ] 수익률 (%)
- [ ] 종목별 비중 표시 (파이 차트 또는 막대 그래프)

### 정렬 및 필터링
- [ ] 종목명 가나다/ABC 순 정렬
- [ ] 수익률 높은 순/낮은 순 정렬
- [ ] 보유 비중 높은 순 정렬
- [ ] 시장별 필터링 (한국/미국/전체)
- [ ] 종목 유형별 필터링 (개별주/ETF/전체)
- [ ] 수익/손실 상태별 필터링 (수익/손실/전체)

### 상세 정보
- [ ] 종목 클릭 시 상세 페이지로 이동
- [ ] 상세 페이지에서 다음 정보 표시:
  - [ ] 실시간 차트 (1일/1주/1개월/1년)
  - [ ] 거래 이력 (매수 날짜, 수량, 가격)
  - [ ] 배당 정보 (해당 시)
  - [ ] 관련 뉴스
  - [ ] AI 분석 결과

---

## 🧪 기능 테스트

### 정상 플로우
- [ ] **로그인 후 대시보드 접속**
  - 모든 포트폴리오 정보가 정확하게 표시됨
- [ ] **종목 목록 조회**
  - 보유한 모든 종목이 표시됨
  - 각 종목의 정보가 정확함
- [ ] **실시간 가격 업데이트**
  - 5분마다 자동으로 가격 갱신
  - 수동 새로고침 버튼으로도 갱신 가능
- [ ] **종목 상세 조회**
  - 종목 클릭 시 상세 정보 페이지로 이동
  - 뒤로 가기로 목록으로 복귀

### 데이터 정합성
- [ ] **수익률 계산 정확도**
  - 예시: 매수가 $100, 현재가 $110 → 10% 수익
  - 여러 번 매수한 경우 평균 단가 정확함
- [ ] **환율 적용 정확도** (해외 주식)
  - 달러 기준 수익률과 원화 환산 수익률 일치
- [ ] **총 자산 계산 정확도**
  - 모든 종목의 평가금액 합계 = 총 자산
- [ ] **일간 변동 계산 정확도**
  - 어제 종가 대비 오늘 현재가 변동

### 엣지 케이스
- [ ] **보유 종목 0개**
  - 빈 상태 메시지와 "종목 추가" 버튼 표시
- [ ] **종목이 100개 이상**
  - 페이지네이션 또는 무한 스크롤로 표시
  - 성능 저하 없이 부드럽게 스크롤
- [ ] **거래 정지 종목**
  - 거래 정지 상태 표시
  - 현재가 대신 마지막 거래가 표시
- [ ] **상장 폐지 종목**
  - 폐지 상태 표시
  - 투자 금액 손실로 표시

### 실시간 업데이트
- [ ] 시장 개장 시간에 가격 자동 업데이트
- [ ] 시장 폐장 시간에는 종가로 고정
- [ ] 네트워크 오류 시 마지막 조회 가격 유지
- [ ] 오류 복구 후 자동으로 최신 가격 갱신

---

## 🎨 UI/UX 테스트

### 디자인 가이드
- [ ] 수익은 초록색, 손실은 빨간색으로 표시
- [ ] 금액은 천 단위 콤마 구분 (예: 1,234,567원)
- [ ] 퍼센티지는 소수점 2자리까지 표시 (예: 12.34%)
- [ ] 통화 기호 일관성 ($ 또는 ₩)
- [ ] 카드 레이아웃이 일관적이고 정렬됨

### 반응형 디자인
- [ ] **모바일 (375px)**
  - 세로 스크롤로 종목 목록 표시
  - 중요 정보 (종목명, 수익률)만 큰 글씨
  - 차트가 작은 화면에 맞게 조정
- [ ] **태블릿 (768px)**
  - 2열 그리드로 종목 카드 표시
  - 사이드바에 필터링 옵션
- [ ] **데스크톱 (1920px)**
  - 3-4열 그리드 또는 테이블 뷰
  - 좌측 사이드바에 포트폴리오 통계

### 사용성
- [ ] 스크롤 시 헤더가 고정되어 정보 접근 용이
- [ ] 로딩 중일 때 스켈레톤 UI 표시
- [ ] 에러 발생 시 재시도 버튼 제공
- [ ] 빈 상태에서 액션 버튼 명확히 표시
- [ ] 툴팁으로 추가 정보 제공 (예: 수익률 계산 방식)

### 인터랙션
- [ ] 종목 카드 호버 시 살짝 확대 또는 그림자 효과
- [ ] 클릭 시 즉각적인 피드백 (버튼 눌림 효과)
- [ ] 정렬/필터 적용 시 부드러운 애니메이션
- [ ] 차트 인터랙션 (줌, 드래그, 툴팁)

### 접근성
- [ ] 색맹 사용자를 위한 대체 표시 (아이콘, 패턴)
- [ ] 스크린 리더로 모든 정보 읽기 가능
- [ ] 키보드 탐색 가능 (Tab, Enter, Arrow Keys)
- [ ] 포커스 순서가 논리적임

---

## 📊 데이터 시각화

### 차트
- [ ] **전체 포트폴리오 파이 차트**
  - 종목별 비중을 색상으로 구분
  - 호버 시 정확한 비율과 금액 표시
  - 범례 표시 (종목명과 색상 매칭)
- [ ] **수익률 추이 라인 차트**
  - 시간별 포트폴리오 가치 변화
  - 기간 선택 가능 (1주/1개월/3개월/1년/전체)
  - 중요 이벤트 마커 (매수/매도 시점)
- [ ] **섹터별 분산도 차트**
  - 기술/금융/헬스케어 등 섹터별 비중
  - 권장 분산도와 비교

### 통계 요약
- [ ] 전체 투자 금액 (총 매수 금액)
- [ ] 현재 평가 금액
- [ ] 실현 손익 (매도한 종목)
- [ ] 미실현 손익 (보유 중인 종목)
- [ ] 최고 수익 종목 / 최대 손실 종목
- [ ] 포트폴리오 위험도 (변동성 기반)

---

## 🔌 통합 테스트

### API 연동
- [ ] 주식 가격 API 정상 호출 (Alpha Vantage, KIS API 등)
- [ ] 환율 API 정상 호출 (ExchangeRate-API 등)
- [ ] Firebase Firestore에서 포트폴리오 데이터 조회
- [ ] 뉴스 API 연동 (종목별 관련 뉴스)
- [ ] AI 분석 API 연동 (Claude MCP)

### 에러 처리
- [ ] API 타임아웃 시 에러 메시지와 재시도 옵션
- [ ] 네트워크 오프라인 시 캐시된 데이터 표시
- [ ] 잘못된 데이터 응답 시 기본값 표시
- [ ] 사용자에게 친화적인 에러 메시지

### 캐싱
- [ ] 조회한 데이터를 로컬에 캐시
- [ ] 캐시 유효 시간 설정 (5분)
- [ ] 네트워크 복구 시 자동 갱신
- [ ] 오프라인 모드에서도 기본 조회 가능

---

## 🔐 보안 & 성능

### 보안
- [ ] 로그인하지 않으면 접근 불가
- [ ] 다른 사용자의 포트폴리오 접근 불가
- [ ] API 키가 클라이언트에 노출되지 않음
- [ ] 민감한 정보 (총 자산)는 마스킹 옵션 제공

### 성능
- [ ] 초기 페이지 로드 < 3초
- [ ] 종목 100개 표시 시에도 부드러운 스크롤
- [ ] 차트 렌더링 < 1초
- [ ] 실시간 업데이트 시 깜빡임 없음
- [ ] 메모리 사용량 < 100MB

### 최적화
- [ ] 이미지 lazy loading
- [ ] 차트 라이브러리 코드 스플리팅
- [ ] 불필요한 API 호출 방지 (디바운스/쓰로틀)
- [ ] 렌더링 최적화 (React.memo, useMemo)

---

## 🌐 브라우저 호환성

- [ ] **Chrome** (최신 버전)
- [ ] **Safari** (최신 버전)
- [ ] **Firefox** (최신 버전)
- [ ] **Edge** (최신 버전)
- [ ] **Mobile Safari** (iOS 15+)
- [ ] **Chrome Mobile** (Android 11+)

---

## 📱 모바일 특화 테스트

- [ ] 터치 제스처 (스와이프, 핀치 줌)
- [ ] Pull-to-refresh 기능
- [ ] 햅틱 피드백 (iOS)
- [ ] 홈 스크린에 추가 (PWA)
- [ ] 오프라인 모드 동작

---

## 📊 테스트 결과 요약

### 통과한 항목
- 총 [   ]개 중 [   ]개 통과

### 실패한 항목
| 항목 | 에러 내용 | 심각도 | 담당자 |
|------|-----------|--------|--------|
|      |           | 🔴/🟡/🔵 |        |

### 성능 측정
| 지표 | 목표 | 실제 | 통과 여부 |
|------|------|------|----------|
| 초기 로드 | < 3초 |  | ✅/❌ |
| API 응답 | < 1초 |  | ✅/❌ |
| 차트 렌더링 | < 1초 |  | ✅/❌ |
| 메모리 사용 | < 100MB |  | ✅/❌ |

### 개선 제안
- 

---

## ✅ 최종 승인

### 배포 전 확인
- [ ] 모든 필수 테스트 통과
- [ ] 크리티컬 이슈 0건
- [ ] 성능 기준 충족
- [ ] 크로스 브라우저 테스트 완료
- [ ] 모바일 최적화 완료
- [ ] 코드 리뷰 완료

### 승인
- [ ] QA 담당자 승인
- [ ] 개발 팀 리더 승인
- [ ] 프로덕트 매니저 승인

---

## 📝 추가 노트

[테스트 중 발견한 특이사항, 개선 아이디어, 참고 사항 등을 자유롭게 작성]

---

## 🎯 향후 개선 아이디어

- [ ] 포트폴리오 비교 기능 (다른 사용자 또는 벤치마크)
- [ ] 목표 수익률 설정 및 진행도 표시
- [ ] 위험도 분석 도구
- [ ] 포트폴리오 백테스팅
- [ ] 소셜 공유 기능 (수익률 자랑하기)
